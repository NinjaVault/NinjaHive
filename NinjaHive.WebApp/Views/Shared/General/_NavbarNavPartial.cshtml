@using NinjaHive.WebApp.Controllers
@using NinjaHive.WebApp.Extensions
@using NinjaHive.WebApp.Helpers

@if (Request.IsAuthenticated)
{
    <ul class="nav navbar-nav">
        @{ string currentPage = Request.Url.AbsolutePath;
           var actionLinks = new Dictionary<string,MvcHtmlString>{
                {"Items", Html.ActionLink<ItemsController>("Items", c => c.Index())},
                {"Categories", Html.ActionLink<CategoriesController>("Categories", c => c.Index())}
           };
           
           string pageCategory = ViewContext.RouteData.Values["Controller"].ToString();
        
           foreach (var pair in actionLinks)
           {
               if (pageCategory == pair.Key)
               {
                   @:<li class="active">
               }
               else
               {
                   @:<li>
               }
               @pair.Value
               @:</li>
           }
        }
    </ul>
}